{"ast":null,"code":"import _objectSpread from\"C:/Users/rajku/OneDrive/Desktop/IOt/Profile_update_MERN_project/client/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _regeneratorRuntime from\"C:/Users/rajku/OneDrive/Desktop/IOt/Profile_update_MERN_project/client/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/rajku/OneDrive/Desktop/IOt/Profile_update_MERN_project/client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"C:/Users/rajku/OneDrive/Desktop/IOt/Profile_update_MERN_project/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState}from'react';import{Link,useNavigate}from'react-router-dom';import avatar from'../assets/profile.png';import toast,{Toaster}from'react-hot-toast';import{useFormik}from'formik';import{registerValidation}from'../helper/validate';import convertToBase64 from'../helper/convert';import{registerUser}from'../helper/helper';import styles from'../styles/Username.module.css';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function Register(){var navigate=useNavigate();var _useState=useState(),_useState2=_slicedToArray(_useState,2),file=_useState2[0],setFile=_useState2[1];var formik=useFormik({initialValues:{email:'rajkumarsaw8818@gmail.com',username:'raj5',password:'Sawraj5@'},validate:registerValidation,validateOnBlur:false,validateOnChange:false,onSubmit:function(){var _onSubmit=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(values){var registerPromise;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return Object.assign(values,{profile:file||''});case 2:values=_context.sent;registerPromise=registerUser(values);toast.promise(registerPromise,{loading:'Creating...',success:/*#__PURE__*/_jsx(\"b\",{children:\"Register Successfully...!\"}),error:/*#__PURE__*/_jsx(\"b\",{children:\"Could not Register.\"})});registerPromise.then(function(){navigate('/');});case 6:case\"end\":return _context.stop();}}},_callee);}));function onSubmit(_x){return _onSubmit.apply(this,arguments);}return onSubmit;}()});/** formik doensn't support file upload so we need to create this handler */var onUpload=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2(e){var base64;return _regeneratorRuntime().wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.next=2;return convertToBase64(e.target.files[0]);case 2:base64=_context2.sent;setFile(base64);case 4:case\"end\":return _context2.stop();}}},_callee2);}));return function onUpload(_x2){return _ref.apply(this,arguments);};}();return/*#__PURE__*/_jsxs(\"div\",{className:\"container mx-auto\",children:[/*#__PURE__*/_jsx(Toaster,{position:\"top-center\",reverseOrder:false}),/*#__PURE__*/_jsx(\"div\",{className:\"flex justify-center items-center h-screen\",children:/*#__PURE__*/_jsxs(\"div\",{className:styles.glass,style:{width:\"45%\",paddingTop:'3em'},children:[/*#__PURE__*/_jsxs(\"div\",{className:\"title flex flex-col items-center\",children:[/*#__PURE__*/_jsx(\"h4\",{className:\"text-5xl font-bold\",children:\"Register\"}),/*#__PURE__*/_jsx(\"span\",{className:\"py-4 text-xl w-2/3 text-center text-gray-500\",children:\"Happy to join you!\"})]}),/*#__PURE__*/_jsxs(\"form\",{className:\"py-1\",onSubmit:formik.handleSubmit,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"profile flex justify-center py-4\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"profile\",children:/*#__PURE__*/_jsx(\"img\",{src:file||avatar,className:styles.profile_img,alt:\"avatar\"})}),/*#__PURE__*/_jsx(\"input\",{onChange:onUpload,type:\"file\",id:\"profile\",name:\"profile\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"textbox flex flex-col items-center gap-6\",children:[/*#__PURE__*/_jsx(\"input\",_objectSpread(_objectSpread({},formik.getFieldProps('email')),{},{className:styles.textbox,type:\"text\",placeholder:\"Email*\"})),/*#__PURE__*/_jsx(\"input\",_objectSpread(_objectSpread({},formik.getFieldProps('username')),{},{className:styles.textbox,type:\"text\",placeholder:\"Username*\"})),/*#__PURE__*/_jsx(\"input\",_objectSpread(_objectSpread({},formik.getFieldProps('password')),{},{className:styles.textbox,type:\"text\",placeholder:\"Password*\"})),/*#__PURE__*/_jsx(\"button\",{className:styles.btn,type:\"submit\",children:\"Register\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"text-center py-4\",children:/*#__PURE__*/_jsxs(\"span\",{className:\"text-gray-500\",children:[\"Already Register? \",/*#__PURE__*/_jsx(Link,{className:\"text-red-500\",to:\"/\",children:\"Login Now\"})]})})]})]})})]});}","map":{"version":3,"names":["React","useState","Link","useNavigate","avatar","toast","Toaster","useFormik","registerValidation","convertToBase64","registerUser","styles","Register","navigate","file","setFile","formik","initialValues","email","username","password","validate","validateOnBlur","validateOnChange","onSubmit","values","Object","assign","profile","registerPromise","promise","loading","success","error","then","onUpload","e","target","files","base64","glass","width","paddingTop","handleSubmit","profile_img","getFieldProps","textbox","btn"],"sources":["C:/Users/rajku/OneDrive/Desktop/IOt/Profile_update_MERN_project/client/src/components/Register.js"],"sourcesContent":["import React, { useState } from 'react'\nimport { Link, useNavigate } from 'react-router-dom'\nimport avatar from '../assets/profile.png';\nimport toast, { Toaster } from 'react-hot-toast';\nimport { useFormik } from 'formik';\nimport { registerValidation } from '../helper/validate';\nimport convertToBase64 from '../helper/convert';\nimport { registerUser } from '../helper/helper'\n\n\nimport styles from '../styles/Username.module.css';\n\nexport default function Register() {\n\n  const navigate = useNavigate()\n  const [file, setFile] = useState()\n\n  const formik = useFormik({\n    initialValues: {\n      email: 'rajkumarsaw8818@gmail.com',\n      username: 'raj5',\n      password: 'Sawraj5@'\n    },\n    validate: registerValidation,\n    validateOnBlur: false,\n    validateOnChange: false,\n    onSubmit: async values => {\n      values = await Object.assign(values, { profile: file || '' })\n      let registerPromise = registerUser(values)\n     \n      toast.promise(registerPromise, {\n       \n        loading: 'Creating...',\n        success: <b>Register Successfully...!</b>,\n        error: <b>Could not Register.</b>\n      });\n\n      registerPromise.then(function () { navigate('/') });\n    }\n  })\n\n  /** formik doensn't support file upload so we need to create this handler */\n  const onUpload = async e => {\n    const base64 = await convertToBase64(e.target.files[0]);\n    setFile(base64);\n  }\n\n  return (\n    <div className=\"container mx-auto\">\n\n      <Toaster position='top-center' reverseOrder={false}></Toaster>\n\n      <div className='flex justify-center items-center h-screen'>\n        <div className={styles.glass} style={{ width: \"45%\", paddingTop: '3em' }}>\n\n          <div className=\"title flex flex-col items-center\">\n            <h4 className='text-5xl font-bold'>Register</h4>\n            <span className='py-4 text-xl w-2/3 text-center text-gray-500'>\n              Happy to join you!\n            </span>\n          </div>\n\n          <form className='py-1' onSubmit={formik.handleSubmit}>\n            <div className='profile flex justify-center py-4'>\n              <label htmlFor=\"profile\">\n                <img src={file || avatar} className={styles.profile_img} alt=\"avatar\" />\n              </label>\n\n              <input onChange={onUpload} type=\"file\" id='profile' name='profile' />\n            </div>\n\n            <div className=\"textbox flex flex-col items-center gap-6\">\n              <input {...formik.getFieldProps('email')} className={styles.textbox} type=\"text\" placeholder='Email*' />\n              <input {...formik.getFieldProps('username')} className={styles.textbox} type=\"text\" placeholder='Username*' />\n              <input {...formik.getFieldProps('password')} className={styles.textbox} type=\"text\" placeholder='Password*' />\n              <button className={styles.btn} type='submit'>Register</button>\n            </div>\n\n            <div className=\"text-center py-4\">\n              <span className='text-gray-500'>Already Register? <Link className='text-red-500' to=\"/\">Login Now</Link></span>\n            </div>\n\n          </form>\n\n        </div>\n      </div>\n    </div>\n  )\n}\n\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}
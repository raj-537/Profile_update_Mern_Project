{"ast":null,"code":"import _objectSpread from\"C:/Users/rajku/OneDrive/Desktop/IOt/Profile_update_MERN_project/client/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _regeneratorRuntime from\"C:/Users/rajku/OneDrive/Desktop/IOt/Profile_update_MERN_project/client/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/rajku/OneDrive/Desktop/IOt/Profile_update_MERN_project/client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"C:/Users/rajku/OneDrive/Desktop/IOt/Profile_update_MERN_project/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useEffect}from'react';import toast,{Toaster}from'react-hot-toast';import{useFormik}from'formik';import{resetPasswordValidation}from'../helper/validate';import{resetPassword}from'../helper/helper';import{useAuthStore}from'../store/store';import{useNavigate,Navigate}from'react-router-dom';import useFetch from'../hooks/fetch.hook';import styles from'../styles/Username.module.css';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function Reset(){var _useAuthStore=useAuthStore(function(state){return state.auth;}),username=_useAuthStore.username;var navigate=useNavigate();var _useFetch=useFetch('createResetSession'),_useFetch2=_slicedToArray(_useFetch,1),_useFetch2$=_useFetch2[0],isLoading=_useFetch2$.isLoading,apiData=_useFetch2$.apiData,status=_useFetch2$.status,serverError=_useFetch2$.serverError;var formik=useFormik({initialValues:{password:'admin@123',confirm_pwd:'admin@123'},validate:resetPasswordValidation,validateOnBlur:false,validateOnChange:false,onSubmit:function(){var _onSubmit=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(values){var resetPromise;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:resetPromise=resetPassword({username:username,password:values.password});toast.promise(resetPromise,{loading:'Updating...',success:/*#__PURE__*/_jsx(\"b\",{children:\"Reset Successfully...!\"}),error:/*#__PURE__*/_jsx(\"b\",{children:\"Could not Reset!\"})});resetPromise.then(function(){navigate('/password');});case 3:case\"end\":return _context.stop();}}},_callee);}));function onSubmit(_x){return _onSubmit.apply(this,arguments);}return onSubmit;}()});if(isLoading)return/*#__PURE__*/_jsx(\"h1\",{className:\"text-2xl font-bold\",children:\"isLoading\"});if(serverError)return/*#__PURE__*/_jsx(\"h1\",{className:\"text-xl text-red-500\",children:serverError.message});if(status&&status!==201)return/*#__PURE__*/_jsx(Navigate,{to:'/password',replace:true});return/*#__PURE__*/_jsxs(\"div\",{className:\"container mx-auto\",children:[/*#__PURE__*/_jsx(Toaster,{position:\"top-center\",reverseOrder:false}),/*#__PURE__*/_jsx(\"div\",{className:\"flex justify-center items-center h-screen\",children:/*#__PURE__*/_jsxs(\"div\",{className:styles.glass,style:{width:\"50%\"},children:[/*#__PURE__*/_jsxs(\"div\",{className:\"title flex flex-col items-center\",children:[/*#__PURE__*/_jsx(\"h4\",{className:\"text-5xl font-bold\",children:\"Reset\"}),/*#__PURE__*/_jsx(\"span\",{className:\"py-4 text-xl w-2/3 text-center text-gray-500\",children:\"Enter new password.\"})]}),/*#__PURE__*/_jsx(\"form\",{className:\"py-20\",onSubmit:formik.handleSubmit,children:/*#__PURE__*/_jsxs(\"div\",{className:\"textbox flex flex-col items-center gap-6\",children:[/*#__PURE__*/_jsx(\"input\",_objectSpread(_objectSpread({},formik.getFieldProps('password')),{},{className:styles.textbox,type:\"text\",placeholder:\"New Password\"})),/*#__PURE__*/_jsx(\"input\",_objectSpread(_objectSpread({},formik.getFieldProps('confirm_pwd')),{},{className:styles.textbox,type:\"text\",placeholder:\"Repeat Password\"})),/*#__PURE__*/_jsx(\"button\",{className:styles.btn,type:\"submit\",children:\"Reset\"})]})})]})})]});}","map":{"version":3,"names":["React","useEffect","toast","Toaster","useFormik","resetPasswordValidation","resetPassword","useAuthStore","useNavigate","Navigate","useFetch","styles","Reset","state","auth","username","navigate","isLoading","apiData","status","serverError","formik","initialValues","password","confirm_pwd","validate","validateOnBlur","validateOnChange","onSubmit","values","resetPromise","promise","loading","success","error","then","message","glass","width","handleSubmit","getFieldProps","textbox","btn"],"sources":["C:/Users/rajku/OneDrive/Desktop/IOt/Profile_update_MERN_project/client/src/components/Reset.js"],"sourcesContent":["import React, { useEffect } from 'react'\nimport toast, { Toaster } from 'react-hot-toast';\nimport { useFormik } from 'formik';\nimport { resetPasswordValidation } from '../helper/validate'\nimport { resetPassword } from '../helper/helper'\nimport { useAuthStore } from '../store/store';\nimport { useNavigate, Navigate } from 'react-router-dom';\nimport useFetch from '../hooks/fetch.hook'\n\nimport styles from '../styles/Username.module.css';\n\nexport default function Reset() {\n\n  const { username } = useAuthStore(state => state.auth);\n  const navigate = useNavigate();\n  const [{ isLoading, apiData, status, serverError }] = useFetch('createResetSession')\n\n  const formik = useFormik({\n    initialValues : {\n      password : 'admin@123',\n      confirm_pwd: 'admin@123'\n    },\n    validate : resetPasswordValidation,\n    validateOnBlur: false,\n    validateOnChange: false,\n    onSubmit : async values => {\n      \n      let resetPromise = resetPassword({ username, password: values.password })\n\n      toast.promise(resetPromise, {\n        loading: 'Updating...',\n        success: <b>Reset Successfully...!</b>,\n        error : <b>Could not Reset!</b>\n      });\n\n      resetPromise.then(function(){ navigate('/password') })\n\n    }\n  })\n\n\n  if(isLoading) return <h1 className='text-2xl font-bold'>isLoading</h1>;\n  if(serverError) return <h1 className='text-xl text-red-500'>{serverError.message}</h1>\n  if(status && status !== 201) return <Navigate to={'/password'} replace={true}></Navigate>\n\n  return (\n    <div className=\"container mx-auto\">\n\n      <Toaster position='top-center' reverseOrder={false}></Toaster>\n\n      <div className='flex justify-center items-center h-screen'>\n        <div className={styles.glass} style={{ width : \"50%\"}}>\n\n          <div className=\"title flex flex-col items-center\">\n            <h4 className='text-5xl font-bold'>Reset</h4>\n            <span className='py-4 text-xl w-2/3 text-center text-gray-500'>\n              Enter new password.\n            </span>\n          </div>\n\n          <form className='py-20' onSubmit={formik.handleSubmit}>\n              <div className=\"textbox flex flex-col items-center gap-6\">\n                  <input {...formik.getFieldProps('password')} className={styles.textbox} type=\"text\" placeholder='New Password' />\n                  <input {...formik.getFieldProps('confirm_pwd')} className={styles.textbox} type=\"text\" placeholder='Repeat Password' />\n                  <button className={styles.btn} type='submit'>Reset</button>\n              </div>\n\n          </form>\n\n        </div>\n      </div>\n    </div>\n  )\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}